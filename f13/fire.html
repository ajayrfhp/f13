<!DOCTYPE html>
<html>
<head>
<script type="text/javascript">
var canvas = null;
var img = null,img2=null;
var ctx = null;
var imageReady = false;
var x,y;
var f=0;
function gun()
{
this.x=x;
this.y=y;
this.frame=0;
this.draw()
	{
	
	}

}
function onload() {
  canvas = document.getElementById('mycanvas');
  ctx = canvas.getContext("2d");
   img = new Image();
  img.src = 'sprites/weapon2.png';
   img.onload=loaded();
 x=350;
y=250;
  }
 function get(event)
 {
 x=event.clientX;
y=event.clientY; 
 }
function loaded() {
  imageReady = true;
   setTimeout( update,250);
}
var frame=0;
function update()
	{
	redraw();
	frame++;
	if(frame>=3){frame=0;f=0;}
	setTimeout(update,250);
	}
function redraw() {
  ctx.fillStyle = '#FFFFFF';
  ctx.fillRect(0, 0, canvas.width, canvas.height);
  if (imageReady)
  {
  if(f==1)
  ctx.drawImage(img,172*frame,0,172,95,x-50,y,100,100);
  else
  ctx.drawImage(img,0*frame,0,172,95,x-50,y,100,100);
  }
}  
function fire()
{
f=1;
}
</script>
	<title></title>
</head>
<body style='position: absolute; padding:0; margin:0; height: 100%; width:100%' onmousemove="get(event)" onclick="fire()" onload="onload()">
<canvas id="mycanvas" height="1000px" width="1000 px"></canvas>
</body>
</html>
